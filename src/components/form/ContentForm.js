import { formStore } from "../../store/FormStore.js";
import { ElementManager } from "../../utils/ElementManager.js";

export const ContentForm = (input) => {
  const maxLength = 32;
  const contentForm = ElementManager.renderElement("div", "form-content");
  contentForm.innerHTML = `
  <label for="content" class="light-12">내용</label>
  <input type="text" id="content" name="content" placeholder="입력하세요" maxlength="32" value="${input.content}">
  <div class="light-12"><span class="form-content-length">0</span>/${maxLength}</div>
  `;

  formStore.subscribe((newData) => {
    // 내용 반영
    const contentInput = contentForm.querySelector("#content");
    contentInput.value = newData.content;

    // 내용 글자수 반영
    const contentInputLength = contentForm.querySelector(
      ".form-content-length"
    );
    contentInputLength.textContent = newData.content.length;
  });
  return contentForm;
};
